# –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä prist.ru

## üîç –î–ï–î–£–ö–¢–ò–í–ù–û–ï –†–ê–°–°–õ–ï–î–û–í–ê–ù–ò–ï

### 1. –ê–ù–ê–õ–ò–ó –°–¢–†–£–ö–¢–£–†–´ –°–ê–ô–¢–ê

#### URL –ü–æ–∏—Å–∫–∞
**–í–∞—Ä–∏–∞–Ω—Ç 1 (–ø—Ä–æ—Å—Ç–æ–π):**
```
https://prist.ru/search/index.php?q={QUERY}&s=
```

**–í–∞—Ä–∏–∞–Ω—Ç 2 (—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏):**
```
https://prist.ru/search/index.php?q={QUERY}&s=&digiSearch=true&term={TERM}&params={PARAMS}
```

**–í—ã–≤–æ–¥:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç (–í–∞—Ä–∏–∞–Ω—Ç 1), —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø—Ä–æ—â–µ.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

**HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```html
<div class="search-products">
    <div class="search-header">
        –ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∞–π–¥–µ–Ω–æ <span>N</span> —Ç–æ–≤–∞—Ä(–æ–≤)
    </div>
    <ol>
        <li>
            <div>
                <a href="/catalog/.../product_name/?sphrase_id=...">
                    <b>–ê–†–¢–ò–ö–£–õ</b>-<b>–ß–ò–°–õ–û</b>/–ú–û–î–ò–§–ò–ö–ê–¶–ò–Ø
                </a>
            </div>
            <div>
                <b>–û–ü–ò–°–ê–ù–ò–ï</b> <b>–ê–†–¢–ò–ö–£–õ</b>-<b>–ß–ò–°–õ–û</b>/<b>–ú–û–î–ò–§–ò–ö–ê–¶–ò–Ø</b>
            </div>
            <div>
                <a href="/catalog/category1/">–ö–∞—Ç–µ–≥–æ—Ä–∏—è1</a> / 
                <a href="/catalog/category2/">–ö–∞—Ç–µ–≥–æ—Ä–∏—è2</a> / 
                <a href="/catalog/product/">–¢–æ–≤–∞—Ä</a>
            </div>
        </li>
    </ol>
</div>
```

**–°–µ–ª–µ–∫—Ç–æ—Ä—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: `div.search-products`
- –ö–∞–∂–¥—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: `div.search-products > ol > li`
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞: `li > div:first-child > a`
- URL —Ç–æ–≤–∞—Ä–∞: `li > div:first-child > a[href]`
- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏: `li > div:last-child` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–í–∞–∂–Ω–æ:** –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞ –ù–ï–¢ —Ü–µ–Ω—ã! –¶–µ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞

**HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–Ω—ã:**
```html
<div class="price-block">
    <span class="price">
        5 700 <span class="rub-5">‚ÇΩ</span>
    </span>
</div>
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:**
```html
<div class="price-block-2">
    <span class="price">
        5 700 <span class="rub-5">‚ÇΩ</span>
    </span>
</div>
```

**–°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è —Ü–µ–Ω—ã:**
- –û—Å–Ω–æ–≤–Ω–æ–π: `span.price` (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ - –æ–ø—Ü–∏–∏, –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏)
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `div.price-block` –∏–ª–∏ `div.price-block-2`
- –§–æ—Ä–º–∞—Ç: `"5 700 ‚ÇΩ"` –∏–ª–∏ `"52 647 ‚ÇΩ"` (–ø—Ä–æ–±–µ–ª—ã –∫–∞–∫ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Ç—ã—Å—è—á)

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:**
- "–¶–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É" - –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å –≤ —Ç–µ–∫—Å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏" - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã - –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é (–æ—Å–Ω–æ–≤–Ω—É—é —Ü–µ–Ω—É —Ç–æ–≤–∞—Ä–∞)

### 2. –°–†–ê–í–ù–ï–ù–ò–ï –° ELECTRONPRIBOR

| –ê—Å–ø–µ–∫—Ç | electronpribor.ru | prist.ru |
|--------|-------------------|----------|
| **URL –ø–æ–∏—Å–∫–∞** | `/search/?type_search=catalog&q={query}` | `/search/index.php?q={query}&s=` |
| **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ HTML** | ‚úÖ –î–∞ (—Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ü–µ–Ω–∞–º–∏) | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏) |
| **–¶–µ–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–∏—Å–∫–∞** | ‚úÖ –î–∞ (`<noindex><p>—Ü–µ–Ω–∞</p></noindex>`) | ‚ùå –ù–µ—Ç |
| **–¶–µ–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞** | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | ‚úÖ –î–∞ (`span.price`) |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** | `ul.pro-list > li` | `div.search-products > ol > li` |
| **–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞** | `h4` | `div > a` |
| **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** | ‚ùå –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | ‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è (–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞) |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | LOW | MEDIUM (2 –∑–∞–ø—Ä–æ—Å–∞ –≤–º–µ—Å—Ç–æ 1) |

### 3. –û–°–û–ë–ï–ù–ù–û–°–¢–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

#### –û—Ç–ª–∏—á–∏—è –æ—Ç electronpribor:

1. **–î–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥:**
   - –®–∞–≥ 1: –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞
   - –®–∞–≥ 2: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞ ‚Üí –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω—ã

2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã:**
   - –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ `span.price` (–æ—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–≤–∞—Ä + –æ–ø—Ü–∏–∏)
   - –ù—É–∂–Ω–æ –±—Ä–∞—Ç—å –ø–µ—Ä–≤—É—é —Ü–µ–Ω—É (–æ—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–≤–∞—Ä) –∏–ª–∏ —Ü–µ–Ω—É –∏–∑ `div.price-block` (–Ω–µ `price-block-2`)

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:**
   - "–¶–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É" - –∏—Å–∫–∞—Ç—å –≤ —Ç–µ–∫—Å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞
   - "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏" - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ
   - –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏ –Ω–µ—Ç —Å—Ç–∞—Ç—É—Å–∞ ‚Üí —Ç–æ–≤–∞—Ä —Å–Ω—è—Ç —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

4. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞:**
   - URL encoding: –ø—Ä–æ–±–µ–ª—ã ‚Üí `+` –∏–ª–∏ `%20`
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã: `/` ‚Üí `%2F`, `-` –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å

### 4. –û–ñ–ò–î–ê–ï–ú–û–ï –ü–û–í–ï–î–ï–ù–ò–ï

#### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```python
product_name = "–ê–ö–ò–ü-3409/3–ê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä"
```

#### –ü—Ä–æ—Ü–µ—Å—Å:
1. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞:**
   ```python
   query = "–ê–ö–ò–ü-3409/3–ê+–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä"  # –∏–ª–∏ URL encoded
   url = f"https://prist.ru/search/index.php?q={urllib.parse.quote(query)}&s="
   ```

2. **–ó–∞–ø—Ä–æ—Å –ø–æ–∏—Å–∫–∞:**
   ```python
   response = await client.get(search_url)
   soup = BeautifulSoup(response.text, 'lxml')
   results = soup.select('div.search-products > ol > li')
   ```

3. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL —Ç–æ–≤–∞—Ä–∞:**
   ```python
   for result in results[:max_results]:
       link = result.select_one('div > a')
       if link and link.get('href'):
           product_url = link['href']
           if not product_url.startswith('http'):
               product_url = base_url + product_url
   ```

4. **–ó–∞–ø—Ä–æ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞:**
   ```python
   product_response = await client.get(product_url)
   product_soup = BeautifulSoup(product_response.text, 'lxml')
   ```

5. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω—ã:**
   ```python
   # –ü—Ä–æ–±—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ —Ü–µ–Ω—ã
   price_block = product_soup.select_one('div.price-block span.price')
   if not price_block:
       # Fallback: –ª—é–±–∞—è —Ü–µ–Ω–∞
       price_block = product_soup.select_one('span.price')
   
   if price_block:
       price_text = price_block.get_text(strip=True)
       price = extract_price_value(price_text)  # "5 700 ‚ÇΩ" ‚Üí 5700.0
   ```

6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:**
   ```python
   page_text = product_soup.get_text().lower()
   if '–ø–æ –∑–∞–ø—Ä–æ—Å—É' in page_text or '—É—Ç–æ—á–Ω—è–π—Ç–µ' in page_text:
       price = -2.0  # –¶–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É
   elif '–Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' in page_text:
       price = None  # –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏
   ```

#### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```python
{
    'name': '–ê–ö–ò–ü-3409/3A',
    'price': 5700.0,  # –∏–ª–∏ -2.0 (–ø–æ –∑–∞–ø—Ä–æ—Å—É), –∏–ª–∏ None (–Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏), –∏–ª–∏ 0.0 (–Ω–µ –Ω–∞–π–¥–µ–Ω)
    'url': 'https://prist.ru/catalog/.../akip_3409_3a/'
}
```

### 5. –ê–°–ò–ù–•–†–û–ù–ù–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ async:
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:** –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ–∏—Å–∫ –∏ –∑–∞–ø—Ä–æ—Å—ã —Å—Ç—Ä–∞–Ω–∏—Ü —Ç–æ–≤–∞—Ä–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- **–ù–æ:** –î–ª—è –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω—É–∂–Ω–æ 2 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ–∏—Å–∫ ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –ú–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞, –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

#### Rate Limiting:
- **–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:** 1.0-2.0 —Å–µ–∫—É–Ω–¥—ã (–∫–∞–∫ –≤ –∫–æ–Ω—Ñ–∏–≥–µ)
- **–î–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Ç–æ–≤–∞—Ä:** –ø–æ–∏—Å–∫ + —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ = 2x –Ω–∞–≥—Ä—É–∑–∫–∞
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** `request_delay: 1.0` –¥–ª—è prist.ru (–±–æ–ª—å—à–µ —á–µ–º electronpribor)

### 6. –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö

#### –°—Ü–µ–Ω–∞—Ä–∏–∏:
1. **–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–æ–∏—Å–∫–µ:**
   - `results = []` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `{'name': None, 'price': 0.0, 'url': None}`

2. **–¢–æ–≤–∞—Ä –Ω–∞–π–¥–µ–Ω, –Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞:**
   - 404 –∏–ª–∏ timeout ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–æ `price: 0.0`

3. **–¢–æ–≤–∞—Ä –Ω–∞–π–¥–µ–Ω, –Ω–æ —Ü–µ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å—ã ("–ø–æ –∑–∞–ø—Ä–æ—Å—É", "–Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏")
   - –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí `price: None` (—Å–Ω—è—Ç —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞)

4. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º `_is_name_match()` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤ (–∫–∞–∫ –≤ electronpribor)

### 7. –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨ –° –°–£–©–ï–°–¢–í–£–Æ–©–ï–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–û–ô

#### –ß—Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- ‚úÖ `AsyncBaseParser` - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
- ‚úÖ `_extract_price_value()` - –ø–∞—Ä—Å–∏–Ω–≥ —Ü–µ–Ω—ã (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ñ–æ—Ä–º–∞—Ç "5 700 ‚ÇΩ")
- ‚úÖ `_is_name_match()` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞—Ä—Ç–∏–∫—É–ª–æ–≤ (—Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ –∞–ª–≥–æ—Ä–∏—Ç–º)
- ‚úÖ `_normalize_search_query()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å)

#### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- ‚ùå `_search_with_url()` - –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ (–¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- ‚ùå `_extract_product_info()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ URL, –±–µ–∑ —Ü–µ–Ω—ã)
- ‚ùå `_fetch_product_page()` - –∑–∞–ø—Ä–æ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞ (–Ω–æ–≤—ã–π –º–µ—Ç–æ–¥)
- ‚ùå `_extract_price_from_product_page()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω—ã —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞

### 8. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

#### config.yaml:
```yaml
parser:
  prist:
    enabled: true
    base_url: "https://prist.ru"
    delays:
      between_requests: 2.0  # –ë–æ–ª—å—à–µ —á–µ–º electronpribor (2 –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Ç–æ–≤–∞—Ä)
    async:
      enabled: true
      max_concurrent: 4  # –ú–µ–Ω—å—à–µ —á–µ–º electronpribor (–±–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞)
      connection_pool_size: 8
      request_delay: 1.0  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
      batch_size: 20  # –ú–µ–Ω—å—à–µ –±–∞—Ç—á (–±–æ–ª—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ç–æ–≤–∞—Ä)
      checkpoint_interval: 30
      batch_delay: 5  # –ë–æ–ª—å—à–µ –ø–∞—É–∑–∞ –º–µ–∂–¥—É –±–∞—Ç—á–∞–º–∏
    retry:
      total: 3
      backoff_factor: 0.3
      status_forcelist: [429, 500, 502, 503, 504]
    timeout: 20  # –ë–æ–ª—å—à–µ —Ç–∞–π–º–∞—É—Ç (2 –∑–∞–ø—Ä–æ—Å–∞)
    user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
```

---

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (30 –º–∏–Ω)

1. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/parsers/prist_async_parser.py`**
   - –ù–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç `AsyncBaseParser`
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ `electronpribor_async_parser.py`
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ prist.ru

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
   - `__init__()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
   - `_normalize_search_query()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
   - `search_product()` - –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –ø–æ–∏—Å–∫–∞

### –≠—Ç–∞–ø 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ (45 –º–∏–Ω)

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_search_with_url()`:**
   - –ó–∞–ø—Ä–æ—Å –∫ `/search/index.php?q={query}&s=`
   - –ü–∞—Ä—Å–∏–Ω–≥ `div.search-products > ol > li`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL —Ç–æ–≤–∞—Ä–∞ –∏–∑ `div > a[href]`
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π —á–µ—Ä–µ–∑ `_is_name_match()`

4. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_extract_product_info_from_search()`:**
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ —Å—Å—ã–ª–∫–∏
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL —Ç–æ–≤–∞—Ä–∞
   - –í–æ–∑–≤—Ä–∞—Ç —Ç–æ–ª—å–∫–æ URL (—Ü–µ–Ω–∞ –±—É–¥–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞)

### –≠—Ç–∞–ø 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞ (60 –º–∏–Ω)

5. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_fetch_product_page()`:**
   - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ URL —Ç–æ–≤–∞—Ä–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (404, timeout)
   - –í–æ–∑–≤—Ä–∞—Ç BeautifulSoup –æ–±—ä–µ–∫—Ç–∞

6. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_extract_price_from_product_page()`:**
   - –ü–æ–∏—Å–∫ `div.price-block span.price` (–æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–∞)
   - Fallback: `span.price` (–ª—é–±–∞—è —Ü–µ–Ω–∞)
   - –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–æ—Ä–º–∞—Ç–∞ "5 700 ‚ÇΩ" ‚Üí 5700.0
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ ("–ø–æ –∑–∞–ø—Ä–æ—Å—É", "–Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏")

7. **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å `_extract_price_value()`:**
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ "5 700 ‚ÇΩ" (–ø—Ä–æ–±–µ–ª—ã –∫–∞–∫ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Ç—ã—Å—è—á)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ `&nbsp;` –≤ HTML

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω)

8. **–û–±–Ω–æ–≤–∏—Ç—å `factory.py`:**
   - –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é `PristAsyncParser`

9. **–û–±–Ω–æ–≤–∏—Ç—å `config.yaml`:**
   - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `prist` –ø–∞—Ä—Å–µ—Ä–∞
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `enabled: true`

10. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
    - –¢–µ—Å—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ç–æ–≤–∞—Ä–µ "–ê–ö–ò–ü-3409/3–ê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä"
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –≤—ã–≤–æ–¥–∞

### –≠—Ç–∞–ø 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ (30 –º–∏–Ω)

11. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
    - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
    - –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ü–µ–Ω

12. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
    - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
    - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

### –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å electronpribor):
```python
{
    'name': '–ê–ö–ò–ü-3409/3A',  # –ù–∞–∑–≤–∞–Ω–∏–µ —Å —Å–∞–π—Ç–∞
    'price': 5700.0,  # –¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö
    'url': 'https://prist.ru/catalog/.../akip_3409_3a/'
}
```

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ü–µ–Ω—ã:
- `price > 0` - —Ç–æ–≤–∞—Ä –Ω–∞–π–¥–µ–Ω —Å —Ü–µ–Ω–æ–π
- `price == 0` - —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω
- `price == -1` - —Ç–æ–≤–∞—Ä —Å–Ω—è—Ç —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ (—Ü–µ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, —Å—Ç–∞—Ç—É—Å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω)
- `price == -2` - —Ü–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `main.py`
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `ExcelWriter`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç async —Ä–µ–∂–∏–º —Å –±–∞—Ç—á–∏–Ω–≥–æ–º –∏ checkpoint'–∞–º–∏

---

## ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
**–†–µ—à–µ–Ω–∏–µ:** –ë–µ—Ä–µ–º –ø–µ—Ä–≤—É—é —Ü–µ–Ω—É –∏–∑ `div.price-block` (–æ—Å–Ω–æ–≤–Ω–æ–π —Ç–æ–≤–∞—Ä), –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º `div.price-block-2` (–æ–ø—Ü–∏–∏)

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –î–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Ç–æ–≤–∞—Ä (–ø–æ–∏—Å–∫ + —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
**–†–µ—à–µ–Ω–∏–µ:** 
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (1.0-2.0 —Å–µ–∫)
- –£–º–µ–Ω—å—à–∞–µ–º `max_concurrent` (4 –≤–º–µ—Å—Ç–æ 6)
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º `batch_delay` (5 —Å–µ–∫ –≤–º–µ—Å—Ç–æ 4)

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –¢–æ–≤–∞—Ä –Ω–∞–π–¥–µ–Ω, –Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–æ `price: 0.0` (—Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω)

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã URL –ø–æ–∏—Å–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç `?q={query}&s=` (—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤)

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

- [ ] –°–æ–∑–¥–∞—Ç—å `prist_async_parser.py`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_normalize_search_query()`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_search_with_url()`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_extract_product_info_from_search()`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_fetch_product_page()`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_extract_price_from_product_page()`
- [ ] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å `_extract_price_value()`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `_is_name_match()` (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ electronpribor)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `factory.py`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `config.yaml`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `ExcelWriter`

---

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** ~3-4 —á–∞—Å–∞
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** MEDIUM (–≤—ã—à–µ —á–µ–º electronpribor –∏–∑-–∑–∞ –¥–≤—É—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)

