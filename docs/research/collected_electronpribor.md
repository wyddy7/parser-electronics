# Шаблон сбора информации для создания парсеров

## Базовые данные
- **Сайт**: `Электронприбор`
- **Base URL**: `https://www.electronpribor.ru`
- **Имя парсера** (snake_case): `electronpribor`

**Примечание:** Парсер уже реализован (`electronpribor_async_parser.py`), но шаблон оставлен для справки.

---

## 1. Поиск товаров

**URL паттерн:**
```
https://www.electronpribor.ru/search/?type_search=catalog&q={query}
```

**Кодирование:**
- [ ] `urllib.parse.quote()` (пробелы → `%20`)
- [x] Замена пробелов на `+`
- [ ] Другое: `_________________`

**Тестовый URL:**
- Товар: `_________________`
- URL: `_________________`

---

## 2. CSS Селекторы

**Контейнер результатов:**
```css
ul.pro-list > li
```

**Элемент товара:**
```css
_________________
```

**Название:**
```css
h4
```

**Цена:**
```css
noindex > p
```

**Ссылка:**
```css
a.search-stat-link
```

**HTML пример товара:**
```html
_________________
_________________
```

---

## 3. Цена

**Формат:**
- [x] `1 000 ₽` (пробелы)
- [ ] `1000.00 ₽` (точка)
- [ ] `1,000 ₽` (запятая)
- [ ] Другое: `_________________`

**Примеры:**
- `_________________`
- `_________________`

**Особые случаи:**
- Диапазон цен: `_________________` → брать: `первую`
- "По запросу": текст `по запросу, уточняйте, запросить`
- "Снят": текст `_________________`

---

## 4. Страница товара

- [x] Цена в результатах поиска
- [ ] Нужен переход на страницу товара

**Если нужна страница:**
- Селектор цены: `_________________`
- Селектор названия: `_________________`

---

## 5. Выбор товара

**Критерии:**
- [ ] Точное совпадение названия
- [ ] Совпадение артикула
- [x] Частичное совпадение названия

**Приоритет:**
1. С ценой > "по запросу" > "снят"
2. Точное > частичное

---

## 6. Технические настройки

**Рекомендуемые значения:**
- `timeout`: `18` сек
- `request_delay`: `0.8` сек
- `max_concurrent`: `6`
- `batch_delay`: `4` сек

**Особенности:**
- `_________________`

---

## 7. Тестовые товары

1. `_________________` → цена: `_________________`
2. `_________________` → цена: `_________________`
3. `_________________` → цена: `_________________`
4. "По запросу": `_________________`
5. "Снят": `_________________`
6. Не найден: `_________________`

---

## 8. Конфигурация config.yaml

```yaml
parser:
  electronpribor:
    enabled: true
    base_url: "https://www.electronpribor.ru"
    async:
      enabled: true
      max_concurrent: 6
      request_delay: 0.8
      batch_size: 30
      batch_delay: 4
    timeout: 18
    user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
```

---

## Чеклист готовности

- [x] Base URL
- [x] URL паттерн поиска
- [x] Селектор контейнера
- [x] Селектор товара
- [x] Селектор названия
- [x] Селектор цены
- [x] Селектор ссылки
- [x] Формат цены
- [x] Статусы ("по запросу", "снят")
- [ ] Тестовые товары
- [x] Конфигурация

**Готово к реализации!** ✅

